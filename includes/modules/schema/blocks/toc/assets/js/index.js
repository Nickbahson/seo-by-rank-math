!function(){var e={184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=l.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},991:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,l,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(l=r;0!=l--;)if(!e(t[l],n[l]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(l of t.entries())if(!n.has(l[0]))return!1;for(l of t.entries())if(!e(l[1],n.get(l[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(l of t.entries())if(!n.has(l[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(l=r;0!=l--;)if(t[l]!==n[l])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(l=r;0!=l--;)if(!Object.prototype.hasOwnProperty.call(n,i[l]))return!1;for(l=r;0!=l--;){var a=i[l];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}}},t={};function n(r){var l=t[r];if(void 0!==l)return l.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{__experimentalConvertBlockToStatic:function(){return B},__experimentalConvertBlocksToReusable:function(){return T},__experimentalDeleteReusableBlock:function(){return C},__experimentalSetEditingReusableBlock:function(){return H}});var t={};n.r(t),n.d(t,{__experimentalIsEditingReusableBlock:function(){return O}});var r=wp.blocks,l=lodash,i=wp.i18n,a=wp.blockEditor,o=wp.editor,s=wp.data,c=wp.components,u=wp.element;function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var p=n(991),f=n.n(p),m=wp.compose,h=wp.apiFetch,v=n.n(h),g=wp.url;const b={};function y(e){let{className:t}=e;return(0,u.createElement)(c.Placeholder,{className:t},(0,i.__)("Block rendered as empty."))}function k(e){let{response:t,className:n}=e;const r=(0,i.sprintf)((0,i.__)("Error loading block: %s"),t.errorMsg);return(0,u.createElement)(c.Placeholder,{className:n},r)}function E(e){let{children:t,showLoader:n}=e;return(0,u.createElement)("div",{style:{position:"relative"}},n&&(0,u.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"}},(0,u.createElement)(c.Spinner,null)),(0,u.createElement)("div",{style:{opacity:n?"0.3":1}},t))}function w(e){const{attributes:t,block:n,className:l,httpMethod:i="GET",urlQueryArgs:a,skipBlockSupportAttributes:o=!1,EmptyResponsePlaceholder:s=y,ErrorResponsePlaceholder:c=k,LoadingResponsePlaceholder:p=E}=e,h=(0,u.useRef)(!0),[w,_]=(0,u.useState)(!1),S=(0,u.useRef)(),[x,B]=(0,u.useState)(null),T=(0,m.usePrevious)(e),[C,H]=(0,u.useState)(!1);function A(){var e,l;if(!h.current)return;H(!0);let s=t&&(0,r.__experimentalSanitizeBlockAttributes)(n,t);o&&(s=function(e){const{backgroundColor:t,borderColor:n,fontFamily:r,fontSize:l,gradient:i,textColor:a,className:o,...s}=e,{border:c,color:u,elements:d,spacing:p,typography:f,...m}=(null==e?void 0:e.style)||b;return{...s,style:m}}(s));const c="POST"===i,u=c?null:null!==(e=s)&&void 0!==e?e:null,d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,g.addQueryArgs)(`/wp/v2/block-renderer/${e}`,{context:"edit",...null!==t?{attributes:t}:{},...n})}(n,u,a),p=c?{attributes:null!==(l=s)&&void 0!==l?l:null}:null,f=S.current=v()({path:d,data:p,method:c?"POST":"GET"}).then((e=>{h.current&&f===S.current&&e&&B(e.rendered)})).catch((e=>{h.current&&f===S.current&&B({error:!0,errorMsg:e.message})})).finally((()=>{h.current&&f===S.current&&H(!1)}));return f}const O=(0,m.useDebounce)(A,500);(0,u.useEffect)((()=>()=>{h.current=!1}),[]),(0,u.useEffect)((()=>{void 0===T?A():f()(T,e)||O()})),(0,u.useEffect)((()=>{if(!C)return;const e=setTimeout((()=>{_(!0)}),1e3);return()=>clearTimeout(e)}),[C]);const U=!!x,I=""===x,P=null==x?void 0:x.error;return C?(0,u.createElement)(p,d({},e,{showLoader:w}),U&&(0,u.createElement)(u.RawHTML,{className:l},x)):I||!U?(0,u.createElement)(s,e):P?(0,u.createElement)(c,d({response:x},e)):(0,u.createElement)(u.RawHTML,{className:l},x)}const _={};var S=(0,s.withSelect)((e=>{const t=e("core/editor");if(t){const e=t.getCurrentPostId();if(e&&"number"==typeof e)return{currentPostId:e}}return _}))((e=>{let{urlQueryArgs:t=_,currentPostId:n,...r}=e;const l=(0,u.useMemo)((()=>n?{post_id:n,...t}:t),[n,t]);return(0,u.createElement)(w,d({urlQueryArgs:l},r))})),x=wp.dom;const B=e=>t=>{let{registry:n}=t;const l=n.select(a.store).getBlock(e),i=n.select("core").getEditedEntityRecord("postType","wp_block",l.attributes.ref),o=(0,r.parse)("function"==typeof i.content?i.content(i):i.content);n.dispatch(a.store).replaceBlocks(l.clientId,o)},T=(e,t)=>async n=>{let{registry:l,dispatch:o}=n;const s={title:t||(0,i.__)("Untitled Reusable block"),content:(0,r.serialize)(l.select(a.store).getBlocksByClientId(e)),status:"publish"},c=await l.dispatch("core").saveEntityRecord("postType","wp_block",s),u=(0,r.createBlock)("core/block",{ref:c.id});l.dispatch(a.store).replaceBlocks(e,u),o.__experimentalSetEditingReusableBlock(u.clientId,!0)},C=e=>async t=>{let{registry:n}=t;if(!n.select("core").getEditedEntityRecord("postType","wp_block",e))return;const l=n.select(a.store).getBlocks().filter((t=>(0,r.isReusableBlock)(t)&&t.attributes.ref===e)).map((e=>e.clientId));l.length&&n.dispatch(a.store).removeBlocks(l),await n.dispatch("core").deleteEntityRecord("postType","wp_block",e)};function H(e,t){return{type:"SET_EDITING_REUSABLE_BLOCK",clientId:e,isEditing:t}}var A=(0,s.combineReducers)({isEditingReusableBlock:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_EDITING_REUSABLE_BLOCK"===(null==t?void 0:t.type)?{...e,[t.clientId]:t.isEditing}:e}});function O(e,t){return e.isEditingReusableBlock[t]}const U=(0,s.createReduxStore)("core/reusable-blocks",{actions:e,reducer:A,selectors:t});function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return(0,l.forEach)(e,(function(n,r){var i;if(!(0,l.isEmpty)(n.content)&&n.level===e[0].level)if((null===(i=e[r+1])||void 0===i?void 0:i.level)>n.level){for(var a=e.length,o=r+1;o<e.length;o++)if(e[o].level===n.level){a=o;break}t.push({heading:n,children:R(e.slice(r+1,a))})}else t.push({heading:n,children:null})})),t}function L(e){var t=e.headings,n=void 0===t?{}:t,r=e.onHeadingUpdate,o=void 0===r?{}:r,s=e.edit,u=void 0===s?{}:s,d=e.toggleEdit,p=void 0===d?{}:d,f=e.hideHeading,m=void 0===f?{}:f,h=e.ListStyle,v=void 0===h?"ul":h,g=e.isSave,b=void 0!==g&&g;return(0,l.isEmpty)(n)?null:wp.element.createElement(React.Fragment,null,n.map((function(e){if(b&&e.heading.disable)return!1;var t=e.heading,n=t.content,r=t.link,l=t.disable,s=t.key,d="div"===v?"div":"li";return wp.element.createElement(d,{key:s,className:l?"disabled":""},b&&wp.element.createElement("a",{href:r},n),!b&&wp.element.createElement(a.RichText,{tagName:"a",value:n,allowedFormats:[],onChange:function(e){return o(e,s,!0)},placeholder:(0,i.__)("Heading text","rank-math")}),e.children&&wp.element.createElement(v,null,wp.element.createElement(L,{headings:e.children,onHeadingUpdate:o,edit:u,toggleEdit:p,hideHeading:m,ListStyle:v,isSave:b})),s===u&&wp.element.createElement(c.TextControl,{placeholder:(0,i.__)("Heading Link","rank-math"),value:r,onChange:function(e){return o(e,s)}}),!b&&wp.element.createElement("span",{className:"rank-math-block-actions"},wp.element.createElement(c.Button,{icon:u===s?"saved":"admin-links",className:"rank-math-item-visbility",onClick:function(){return p(u!==s&&s)},title:(0,i.__)("Edit Link","rank-math")}),wp.element.createElement(c.Button,{className:"rank-math-item-delete",icon:l?"hidden":"visibility",onClick:function(){return m(!l,s)},title:(0,i.__)("Hide","rank-math")})))})))}(0,s.register)(U);var N=function(e){var t=e.attributes,n=e.setAttributes,r=e.excludeHeadings,o=e.setExcludeHeadings;return wp.element.createElement(a.InspectorControls,null,wp.element.createElement(c.PanelBody,{title:(0,i.__)("Settings","rank-math")},wp.element.createElement(c.SelectControl,{label:(0,i.__)("Title Wrapper","rank-math"),value:t.titleWrapper,options:[{value:"h2",label:(0,i.__)("H2","rank-math")},{value:"h3",label:(0,i.__)("H3","rank-math")},{value:"h4",label:(0,i.__)("H4","rank-math")},{value:"h5",label:(0,i.__)("H5","rank-math")},{value:"h6",label:(0,i.__)("H6","rank-math")},{value:"p",label:(0,i.__)("P","rank-math")},{value:"div",label:(0,i.__)("DIV","rank-math")}],onChange:function(e){n({titleWrapper:e})}}),wp.element.createElement("br",null),wp.element.createElement("h3",null,(0,i.__)("Exclude Headings","rank-math")),wp.element.createElement("div",{className:"rank-math-toc-exclude-headings"},(0,l.map)(["h1","h2","h3","h4","h5","h6"],(function(e){return wp.element.createElement(c.CheckboxControl,{key:e,label:(0,i.__)("Heading ","rank-math")+(0,l.toUpper)(e),checked:(0,l.includes)(r,e),onChange:function(t){return o(e,t)}})})))))},j=n(184),M=n.n(j);const z=e=>(0,u.createElement)("path",e),G=e=>{let{className:t,isPressed:n,...r}=e;const l={...r,className:M()(t,{"is-pressed":n})||void 0,"aria-hidden":!0,focusable:!1};return(0,u.createElement)("svg",l)};var D=(0,u.createElement)(G,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,u.createElement)(z,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));var V=(0,u.createElement)(G,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,u.createElement)(z,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM5 6.7V10h1V5.3L3.8 6l.4 1 .8-.3zm-.4 5.7c-.3.1-.5.2-.7.3l.1 1.1c.2-.2.5-.4.8-.5.3-.1.6 0 .7.1.2.3 0 .8-.2 1.1-.5.8-.9 1.6-1.4 2.5h2.7v-1h-1c.3-.6.8-1.4.9-2.1.1-.3 0-.8-.2-1.1-.5-.6-1.3-.5-1.7-.4z"}));var W=(0,u.createElement)(G,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,u.createElement)(z,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"})),q=function(e){var t=e.setAttributes;return wp.element.createElement(a.BlockControls,null,wp.element.createElement(c.Toolbar,{label:(0,i.__)("Table of Content Options","rank-math")},wp.element.createElement(c.ToolbarButton,{icon:D,label:(0,i.__)("Unordered List","rank-math"),onClick:function(){return t({listStyle:"ul"})}}),wp.element.createElement(c.ToolbarButton,{icon:V,label:(0,i.__)("Ordered List","rank-math"),onClick:function(){return t({listStyle:"ol"})}}),wp.element.createElement(c.ToolbarButton,{icon:W,label:(0,i.__)("None","rank-math"),onClick:function(){return t({listStyle:"div"})}})))};function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,i,a,o=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);s=!0);}catch(e){c=!0,l=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw l}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,r.registerBlockType)("rank-math/toc-block",{usesContext:["postId"],edit:function(e){var t,n=e.attributes,r=e.setAttributes,d=e.context,p=(0,s.useSelect)((function(e){var t=e(o.store),n=t.isSavingPost,r=t.isSavingNonPostEntityChanges;return{isSaving:n(),isSavingNonPostEntityChanges:r()}})),f=p.isSaving,m=p.isSavingNonPostEntityChanges,h=(0,a.useBlockProps)(),v=d.postId,g=F((0,u.useState)(!1),2),b=(g[0],g[1],F((0,u.useState)({}),2)),y=b[0],k=b[1];n.listStyle||r({listStyle:rankMath.listStyle});n.listStyle;var E=null!==(t=n.title)&&void 0!==t?t:rankMath.tocTitle,w=(0,l.isUndefined)(n.excludeHeadings)?rankMath.tocExcludeHeadings:n.excludeHeadings,_=function(e){(0,l.includes)(w,e)?(0,l.remove)(w,(function(t){return t===e})):w.push(e),r({excludeHeadings:w}),k(!y)},B=(0,s.useDispatch)(a.store).__unstableMarkNextChangeAsNotPersistent,T=function(e,t){var n=(0,s.useDispatch)(U).__experimentalConvertBlockToStatic;return(0,s.useSelect)((function(r){var i,o=r(a.store),s=o.getBlockAttributes,c=o.getBlockName,u=(0,o.getClientIdsWithDescendants)(),d=[],p=0,f=[],m=I(u);try{var h=function(){var r=i.value,a=c(r);if("core/block"===a){var o=s(r);return(0,l.isNull)(o.ref)||setImmediate((function(){var e=wp.data.select("core").getEditedEntityRecord("postType","wp_block",o.ref),t=(0,l.map)(e.blocks,(function(e){return e.name}));(0,l.includes)(t,"rank-math/toc-block")&&!(0,l.isNull)(s(r))&&n(r)})),"continue"}if(!(0,l.includes)(["rank-math/faq-block","rank-math/howto-block","core/heading"],a))return"continue";var u=s(r);if("rank-math/faq-block"===a||"rank-math/howto-block"===a){var m=u.titleWrapper;if((0,l.includes)(t,m)||(0,l.includes)(["div","p"],m))return"continue";var h="rank-math/howto-block"===a?u.steps:u.questions;return(0,l.isEmpty)(h)||(0,l.forEach)(h,(function(t){var n=(0,l.isUndefined)(e)||(0,l.isEmpty)(e[d.length])?{content:"",level:"",disable:!1,isUpdated:!1,isGeneratedLink:!0}:e[d.length],r=!(0,l.isUndefined)(n.isGeneratedLink)&&n.isGeneratedLink;d.push({key:t.id,content:!(0,l.isUndefined)(n.isUpdated)&&n.isUpdated?n.content:t.title,level:parseInt(u.titleWrapper.replace("h","")),link:r?"#".concat(t.id):n.link,disable:!!n.disable&&n.disable,isUpdated:!(0,l.isUndefined)(n.isUpdated)&&n.isUpdated,isGeneratedLink:r})})),"continue"}if("core/heading"===a){if((0,l.includes)(t,"h"+u.level))return"continue";var v=(0,l.isUndefined)(e)||(0,l.isEmpty)(e[d.length])?{content:"",level:"",disable:!1,isUpdated:!1,isGeneratedLink:!0}:e[d.length],g=!(0,l.isUndefined)(v.isGeneratedLink)&&v.isGeneratedLink,b=u.anchor;((0,l.isEmpty)(u.anchor)||g)&&(b=(0,l.kebabCase)(u.content)),(0,l.includes)(f,b)&&(b=b+"-"+(p+=1)),f.push(b),u.anchor=b;var y=(0,x.__unstableStripHTML)(u.content.replace(/(<br *\/?>)+/g," "));d.push({key:r,content:!(0,l.isUndefined)(v.isUpdated)&&v.isUpdated?v.content:y,level:u.level,link:g?"#".concat(u.anchor):v.link,disable:!!v.disable&&v.disable,isUpdated:!(0,l.isUndefined)(v.isUpdated)&&v.isUpdated,isGeneratedLink:g})}};for(m.s();!(i=m.n()).done;)h()}catch(e){m.e(e)}finally{m.f()}return(0,l.isEqual)(e,d)?null:d}))}(n.headings,w);(0,u.useEffect)((function(){null!==T&&(B(),r({headings:T}))}),[T]);R(n.headings);return(0,l.isUndefined)(n.headings)||0===n.headings.length?wp.element.createElement("div",h,wp.element.createElement(c.Placeholder,{label:(0,i.__)("Table of Contents","rank-math"),instructions:(0,i.__)("Add Heading blocks to this page to generate the Table of Contents.","rank-math")}),wp.element.createElement(N,{attributes:n,setAttributes:r,excludeHeadings:w,setExcludeHeadings:_})):wp.element.createElement("div",h,f||m?wp.element.createElement(c.Spinner,null):wp.element.createElement(S,{block:"rank-math/toc-block",attributes:{postId:v}}),wp.element.createElement(a.RichText,{tagName:n.titleWrapper,value:E,onChange:function(e){r({title:e})},placeholder:(0,i.__)("Enter a title","rank-math")}),wp.element.createElement(q,{setAttributes:r}),wp.element.createElement(N,{attributes:n,setAttributes:r,excludeHeadings:w,setExcludeHeadings:_}))},save:function(e){var t=e.attributes;if(0===t.headings.length)return null;var n=t.titleWrapper,r=R(t.headings),l=t.listStyle;return wp.element.createElement("div",a.useBlockProps.save(),t.title&&wp.element.createElement(n,{dangerouslySetInnerHTML:{__html:t.title}}),wp.element.createElement("nav",null,wp.element.createElement(l,null,wp.element.createElement(L,{headings:r,ListStyle:l,isSave:!0}))))}})}()}();